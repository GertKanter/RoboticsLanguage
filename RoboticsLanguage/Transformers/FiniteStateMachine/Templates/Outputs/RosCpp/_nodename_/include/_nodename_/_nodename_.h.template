
{% set includes %}

{% if code|xpaths('//fsm:machine', {'fsm':'fsm'})|length > 0 %}
#include "FiniteStateMachine.h"
{% endif %}

{% endset %}

{% set definitions %}

{% for machine in code|xpaths('//fsm:machine', {'fsm':'fsm'}) %}
  FiniteStateMachine {{machine|xpath('fsm:name/text()', {'fsm':'fsm'})}} = FiniteStateMachine("{{machine|xpath('fsm:name/text()', {'fsm':'fsm'})}}");
{% endfor %}

{% endset %}
